"use strict";(self.webpackChunkProgettoFinale=self.webpackChunkProgettoFinale||[]).push([[588],{4588:(B,l,o)=>{o.r(l),o.d(l,{UsersModule:()=>R});var p=o(9808),m=o(6087),u=o(8505),t=o(5e3),d=o(2340),h=o(520);let f=(()=>{class e{constructor(s){this.http=s,this.pathApi=d.N.pathApi}getAllUsers(s){return this.http.get(this.pathApi+`/api/users?page=${s}`)}}return e.\u0275fac=function(s){return new(s||e)(t.LFG(h.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var g=o(4936),a=o(8279);function U(e,n){1&e&&(t.TgZ(0,"th",12),t._uU(1," Id "),t.qZA())}function C(e,n){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&e){const s=n.$implicit;t.xp6(1),t.hij(" ",s.id," ")}}function v(e,n){1&e&&(t.TgZ(0,"th",12),t._uU(1," Username "),t.qZA())}function Z(e,n){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&e){const s=n.$implicit;t.xp6(1),t.hij(" ",s.username," ")}}function A(e,n){1&e&&(t.TgZ(0,"th",12),t._uU(1," Email "),t.qZA())}function T(e,n){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&e){const s=n.$implicit;t.xp6(1),t.hij(" ",s.email," ")}}function y(e,n){1&e&&(t.TgZ(0,"th",12),t._uU(1," Ruolo "),t.qZA())}function N(e,n){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&e){const s=n.$implicit;t.xp6(1),t.hij(" ",s.roles[0].roleName," ")}}function x(e,n){1&e&&t._UZ(0,"tr",14)}function D(e,n){1&e&&t._UZ(0,"tr",15)}let Q=(()=>{class e{constructor(s){this.ursSrv=s,this.userList=!0,this.displayedColumns=["Id","Username","Email","Ruolo"],this.users=[]}ngAfterViewInit(){this.paginator.page.pipe((0,u.b)(()=>this.getAllUsers(this.paginator.pageIndex))).subscribe()}ngOnInit(){this.getAllUsers(0)}getAllUsers(s){this.ursSrv.getAllUsers(s).subscribe(r=>{this.res=r,console.log(this.res.totalElements),this.users=this.res.content,this.users.forEach((i,M)=>{0==i.roles.length&&(i.roles=[{id:0,roleName:""}])})},r=>{console.log(r)})}}return e.\u0275fac=function(s){return new(s||e)(t.Y36(f))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-users"]],viewQuery:function(s,r){if(1&s&&t.Gf(m.NW,5),2&s){let i;t.iGM(i=t.CRH())&&(r.paginator=i.first)}},decls:18,vars:6,consts:[["id","users",3,"userList"],[1,"container","my-4"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Username"],["matColumnDef","Email"],["matColumnDef","Ruolo"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(s,r){1&s&&(t.TgZ(0,"app-sidebar",0)(1,"div",1)(2,"table",2),t.ynx(3,3),t.YNc(4,U,2,0,"th",4),t.YNc(5,C,2,1,"td",5),t.BQk(),t.ynx(6,6),t.YNc(7,v,2,0,"th",4),t.YNc(8,Z,2,1,"td",5),t.BQk(),t.ynx(9,7),t.YNc(10,A,2,0,"th",4),t.YNc(11,T,2,1,"td",5),t.BQk(),t.ynx(12,8),t.YNc(13,y,2,0,"th",4),t.YNc(14,N,2,1,"td",5),t.BQk(),t.YNc(15,x,1,0,"tr",9),t.YNc(16,D,1,0,"tr",10),t.qZA(),t._UZ(17,"mat-paginator",11),t.qZA()()),2&s&&(t.Q6J("userList",r.userList),t.xp6(2),t.Q6J("dataSource",r.users),t.xp6(13),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(1),t.Q6J("length",r.res.totalElements)("pageSize",r.res.pageable.pageSize))},directives:[g.k,a.BZ,a.w1,a.fO,a.ge,a.Dz,a.ev,a.as,a.XQ,a.nj,a.Gk,m.NW],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-row[_ngcontent-%COMP%]:hover   .mat-cell[_ngcontent-%COMP%]{border-color:#3f51b5}"]}),e})();var S=o(5253),c=o(1083),Y=o(7110);const z=[{path:"",component:Q}];let R=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[p.ez,S.l,c.Bz.forChild(z),Y.q],c.Bz]}),e})()}}]);